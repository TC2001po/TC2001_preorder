<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>직원 전용 선주문 페이지</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- jQuery 라이브러리 -->
</head>
<body>
    <h1>직원 전용 선주문</h1>
    
    <!-- 주문 폼 -->
    <form id="orderForm">
        <label for="name">주문자 이름:</label><br>
        <input type="text" id="name" name="name" required><br><br>

        <label for="menu">메뉴 선택:</label><br>
        <select id="menu" name="menu" required>
            <option value="아메리카노">아메리카노</option>
            <option value="라떼">라떼</option>
            <option value="카페모카">카페모카</option>
        </select><br><br>

        <label for="quantity">갯수:</label><br>
        <input type="number" id="quantity" name="quantity" min="1" required><br><br>

        <label for="pickupTime">픽업 시간:</label><br>
        <input type="time" id="pickupTime" name="pickupTime" required><br><br>

        <button type="submit">주문하기</button>
    </form>

    <!-- 주문 확인 메시지 -->
    <div id="confirmationMessage" style="display: none;">
        <p id="orderDetails"></p>
        <button id="confirmOrder">확인</button>
        <button id="cancelOrder">취소</button>
    </div>

    <p id="successMessage" style="display: none; color: green;">주문이 완료되었습니다!</p>

    <script>
        // 폼 제출 처리
        $('#orderForm').on('submit', function (e) {
            e.preventDefault(); // 페이지 리로드 방지

            // 폼 값 가져오기
            const name = $('#name').val();
            const menu = $('#menu').val();
            const quantity = $('#quantity').val();
            const pickupTime = $('#pickupTime').val();

            // 확인 메시지 생성
            let orderMessage = `${name}님, ${menu}를 ${quantity}잔 ${pickupTime}에 픽업하시겠습니까?`;

            // 확인 메시지 표시
            $('#orderDetails').text(orderMessage);
            $('#confirmationMessage').show();
        });

        // 주문 확인
        $('#confirmOrder').on('click', function () {
            // 주문 완료 메시지 표시
            $('#successMessage').show();
            $('#confirmationMessage').hide();

            // 관리 페이지에 주문 내역 추가 (간단한 로컬 저장 사용)
            const order = {
                name: $('#name').val(),
                menu: $('#menu').val(),
                quantity: $('#quantity').val(),
                pickupTime: $('#pickupTime').val(),
            };

            let orders = JSON.parse(localStorage.getItem('orders')) || [];
            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));
        });

        // 주문 취소
        $('#cancelOrder').on('click', function () {
            $('#confirmationMessage').hide();
        });
    </script>
</body>
</html>
